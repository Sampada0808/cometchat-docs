---
title: "Add CometChat Visual Builder Widget to Shopify"
description: "Learn how to embed the CometChat Visual Builder widget into your Shopify store using Liquid templates, theme settings, or Online Store 2.0 app blocks."
---

You can integrate the **CometChat Visual Builder widget** directly into your Shopify store to enable real-time chat. Once installed, it will:

- Load the Visual Builder bundle on page load  
- Initialize CometChat with your App ID, Region & Auth Key  
- Automatically log in each visitor (using their Shopify `customer.id` or “guest”)  
- Launch a docked chat UI on every page  

---

## What You’ll Build

A persistent, docked chat widget in your Shopify theme—fully configurable via Theme Settings or a snippet/app block.

---

## 1. Register on CometChat & Gather Your Keys

Before you start, sign up at the [CometChat Dashboard](https://app.cometchat.com/) and create an app. Copy:

- **App ID**  
- **Region**  
- **Auth Key**

You’ll inject these via Theme Settings or directly in your Liquid.

---

## 2. Add the Visual Builder Bundle

1. In Shopify Admin, navigate to **Online Store → Themes → Edit code**  
2. Open **layout/theme.liquid**  
3. Inside the `<head>` tag, add:

   ```liquid
   <!-- CometChat Visual Builder (staging) -->
   <script defer src="https://cdn.jsdelivr.net/npm/cometchat-visual-builder-no-code@latest/dist/main.js"></script>
   <!-- (In production, swap to @cometchat/chat-embed@latest/dist/main.js) -->
   ```

---

## 3. Mount & Initialize the Widget

Decide where you want the chat widget to appear—commonly in **sections/footer.liquid** or a new **snippets/cometchat-widget.liquid**. Paste:

```liquid
<!-- CometChat Widget Mount Point -->
<div id="cometChatMount"></div>

<script>
  const COMETCHAT_CREDENTIALS = {
    appID:     "{{ settings.cometchat_app_id }}",     // from Theme Settings
    appRegion: "{{ settings.cometchat_app_region }}",
    authKey:   "{{ settings.cometchat_auth_key }}",
  };

  const COMETCHAT_LAUNCH_OPTIONS = {
    targetElementID: "cometChatMount",
    isDocked:        true,
    width:           "700px",
    height:          "400px",
  };

  document.addEventListener("DOMContentLoaded", () => {
    CometChatApp.init(COMETCHAT_CREDENTIALS)
      .then(() =>
        CometChatApp.login({ uid: "{{ customer.id | default: 'guest' }}" })
      )
      .then(() => CometChatApp.launch(COMETCHAT_LAUNCH_OPTIONS))
      .catch(error => console.error("[CometChat] Error:", error));
  });
</script>
```

---

## 4. (Optional) Expose Credentials in Theme Settings

To let non-developers manage credentials from the Shopify Theme Editor, add this section in **config/settings_schema.json** (just before the final `]`):

```jsonc
,
{
  "name": "CometChat Settings",
  "settings": [
    {
      "type": "text",
      "id": "cometchat_app_id",
      "label": "CometChat App ID",
      "default": "YOUR_APP_ID"
    },
    {
      "type": "text",
      "id": "cometchat_app_region",
      "label": "CometChat App Region",
      "default": "YOUR_REGION"
    },
    {
      "type": "text",
      "id": "cometchat_auth_key",
      "label": "CometChat Auth Key",
      "default": "YOUR_AUTH_KEY"
    }
  ]
}
```

---

## 5. (Advanced) Use an Online Store 2.0 App Block

If your theme supports Shopify 2.0 app blocks, you can make a reusable section:

1. **Online Store → Themes → Edit code**  
2. Under **Sections**, click **Add a new section** → `cometchat-widget.liquid`  
3. Paste the same snippet from Step 3 into that file.  
4. Save, then add it in **Customize theme** under **App embeds** or as a section on any template.

```liquid
{% section 'cometchat-widget' %}
```

---

## Troubleshooting

- **Widget not appearing?**  
  • Verify your `<script>` URL (staging vs production)  
  • Confirm your App ID, Region & Auth Key  
- **Login errors?**  
  • Ensure the `uid` exists under **Users** in your CometChat Dashboard  
- **Script blocked?**  
  • Use the theme integration method (Step 3) rather than inline page HTML  

---

## Need Help?

Reach out to [CometChat Support](https://www.cometchat.com/contact) or visit our [docs site](https://www.cometchat.com/docs) for more examples.
