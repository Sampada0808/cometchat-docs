---
title: "Add CometChat Widget to WordPress via Plugin"
description: "Comprehensive guide to install, configure, and extend the new CometChat WordPress plugin."
---

## Before getting started

Go through the [Overview](https://app.cometchat.com/) to generate your Widget from the CometChat Dashboard.  
Ensure you have:
- A WordPress site (5.0+)
- PHP 7.2 or higher
- The CometChat plugin ZIP downloaded from your Dashboard
- Your **App ID**, **Region**, and **Auth Key**

## Installation

1. In the CometChat Dashboard, download the `cometchat-chat-builder.zip`.  
2. In WordPress Admin, go to **Plugins → Add New**.  
3. Click **Upload Plugin**, select `cometchat-chat-builder.zip`, and click **Install Now**.  
4. After installation completes, click **Activate Plugin**.

## Configuration

1. In the CometChat Dashboard, navigate to **Chats → Widget** to get your:
   - **Widget ID**  
   - **App ID**  
   - **Region**  
   - **Auth Key**  
2. In WordPress Admin, go to **CometChat Chat Builder** under the sidebar.  
3. Enter:
   - **Widget ID**  
   - **App ID**  
   - **Region**  
   - **Auth Key**  
4. (Optional) Set **Default User UID** to auto-login a specific CometChat user.  
5. Choose **Display Mode**:
   - **Embedded** (inline on specific pages)
   - **Docked** (floating on every page)
   - **Shortcode only**  
6. Click **Save Changes**.

## Embedded Layout

Use the shortcode to load the widget inline within any Page or Post. Replace parameters as needed:

```text
[cometchat_widget width="600px" height="600px"]
```

| Parameter | Description                   | Type    | Default  |
|-----------|-------------------------------|---------|----------|
| width     | Width of the widget container | string  | 100%     |
| height    | Height of the widget container| string  | 600px    |

## Docked Layout

Use the shortcode to load a floating (docked) widget on the screen:

```text
[cometchat_widget docked="true" position="right" width="400px" height="600px"]
```

| Parameter | Description                      | Type    | Default |
|-----------|----------------------------------|---------|---------|
| docked    | Enable docked layout (`true/false`)| boolean | false   |
| position  | Dock position (`left` or `right`)| string  | right   |

## Show docked layout on all pages

1. In **CometChat Chat Builder** settings, set **Display Mode** to **Docked**.  
2. Widget will now appear on every public page automatically.

---

## Advanced JavaScript APIs

Once the widget is loaded, interact with it via the global `CometChatApp` object:

### Chat and Call Methods

```js
// Chat with a particular user
CometChatApp.chatWithUser("UID");

// Chat with a particular group
CometChatApp.chatWithGroup("GUID");

// Initiate calls with a particular user
CometChatApp.callUser("UID");

// Initiate calls with a particular group
CometChatApp.callGroup("GUID");
```

### UI Event Listeners

```js
// Message received listener
CometChatApp.uiEvent("onMessageReceived", (msg) => {
  console.log("New message received:", msg);
});

// Chat opened listener (for docked mode)
CometChatApp.uiEvent("onOpenChat", (args) => {
  console.log("Chat opened", args);
});

// Chat closed listener (for docked mode)
CometChatApp.uiEvent("onCloseChat", (args) => {
  console.log("Chat closed", args);
});

// Active chat change listener
CometChatApp.uiEvent("onActiveChatChanged", (args) => {
  console.log("onActiveChatChanged", args);
});
```

### User and Group Management

```js
// Create or update a user on-the-fly
const user = new CometChatApp.CometChat.User("UID");
user.setName("User Name");
user.setAvatar("https://example.com/uid.png");
user.setLink("https://example.com/profile/uid");

CometChatApp.createOrUpdateUser(user).then((createdUser) => {
  console.log("User created/updated", createdUser);
});

// Create or update a group on-the-fly
const group = new CometChatApp.CometChat.Group("GUID", "GROUP_NAME", "public");
CometChatApp.createOrUpdateGroup(group).then((createdGroup) => {
  console.log("Group created/updated", createdGroup);
});
```

### Authentication Methods

```js
// Login with authToken
CometChatApp.login({ authToken: "your-auth-token" });

// User logout
CometChatApp.logout("UID");

// Logout listener
CometChatApp.uiEvent("onLogout", (args) => {
  console.log("onLogout", args);
});
```

### Localization

```js
// Set widget language (e.g., "hi" for Hindi)
CometChatApp.localize("hi");
```

---

## Troubleshooting

- **Plugin upload fails**: Ensure the ZIP is intact and WordPress has write permissions.  
- **Settings not saving**: Temporarily disable caching/minification plugins.  
- **Shortcode not working**: Verify the `[cometchat_widget]` syntax and saved settings.  
- **JavaScript errors**: Check browser console for missing `CometChatApp` or invalid parameters.

---

## Need Help?

Questions or issues? Contact [CometChat Support](https://www.cometchat.com/contact).  
